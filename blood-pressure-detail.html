<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>血压详情</title>
    <style>
        :root {
            --bg-color: #16191d;
            --card-bg: #2c2f33;
            --text-primary: #ffffff;
            --text-secondary: #e5e5e5;
            --text-tertiary: #a0a0a0;
            --text-light: #888888;
            --accent-red: #f44336;
            --accent-red-selected: #d32f2f;
            --link-blue: #8c9eff;
            --border-color: #3a3a3a;
            --bp-normal: #4caf50;
            --bp-elevated: #ff9800;
            --bp-high: #f44336;
            --systolic-color: #000000;
            --diastolic-color: #e53e3e;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 2rem 0;
        }
        .iphone-frame {
            width: 375px;
            height: 812px;
            background-color: #111;
            border-radius: 40px;
            padding: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 2px solid #444;
        }
        .screen {
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            border-radius: 32px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        /* Header Navigation */
        .header-nav {
            padding: 10px 15px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
        }
        .back-button {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--link-blue);
            text-decoration: none;
            font-size: 16px;
            padding: 5px;
        }
        .back-button svg {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        .back-button:hover {
            opacity: 0.8;
        }
        .page-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }
        .header-spacer {
            width: 60px;
        }
        
        .scroll-view {
            flex: 1;
            overflow-y: auto;
        }
        .scroll-view::-webkit-scrollbar { display: none; }
        .scroll-view { -ms-overflow-style: none; scrollbar-width: none; }

        /* Time Range Selector */
        .time-range-container {
            margin: 10px 15px;
            padding: 4px;
            background-color: #3a3a3a;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
        }
        .time-range-btn {
            flex: 1;
            padding: 8px 6px;
            border: none;
            background-color: transparent;
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .time-range-btn.active {
            background-color: var(--card-bg);
            color: var(--text-primary);
            font-weight: bold;
            box-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
                 /* RealTime Blood Pressure */
         .realtime-container {
             margin: 20px 15px;
             padding: 20px;
             background-color: var(--card-bg);
             border-radius: 10px;
             display: flex;
             justify-content: space-between;
             align-items: flex-start;
         }
         .bp-icon {
             width: 40px;
             height: 40px;
             fill: var(--accent-red);
         }
        .bp-range-display {
            flex: 1;
        }
        .bp-range-row {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }
        .bp-type-indicator {
            font-size: 18px;
            color: #000000;
        }
        .bp-type-indicator.diastolic {
            color: #e53e3e;
        }
        .bp-type-label {
            font-size: 14px;
            color: var(--text-secondary);
            min-width: 50px;
        }
        .bp-range-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--text-primary);
        }
        .bp-unit {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 4px;
        }
        .bp-date-range {
            font-size: 12px;
            color: var(--text-light);
            margin-top: 2px;
        }
        
        .range-bar-container { width: 160px; }
        .range-pointer {
            width: 20px;
            height: 15px;
            fill: var(--text-secondary);
            margin-bottom: -2px;
        }
        .range-bar {
            height: 12px;
            border-radius: 6px;
            display: flex;
            overflow: hidden;
        }
        .range-segment-normal { background-color: var(--bp-normal); flex: 0.4; }
        .range-segment-elevated { background-color: var(--bp-elevated); flex: 0.3; }
        .range-segment-high { background-color: var(--bp-high); flex: 0.3; }
        .range-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
            position: relative;
        }
        .range-labels span:nth-child(2) { position: absolute; left: 40%; transform: translateX(-50%);}
        .range-labels span:nth-child(3) { position: absolute; left: 70%; transform: translateX(-50%);}
        
        /* Status Indicator */
        .status-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 60px;
        }
        .status-text {
            font-size: 18px;
            font-weight: 600;
            color: #4caf50;
            padding: 8px 16px;
            border-radius: 20px;
            background-color: rgba(76, 175, 80, 0.1);
        }
        
        /* Chart */
        .chart-container {
            margin: 0 15px;
            padding: 10px 20px;
            background-color: var(--card-bg);
            border-radius: 10px;
            height: 300px;
            position: relative;
        }
        .chart-svg { width: 100%; height: 100%; }
        .grid-line { stroke: #3a3a3a; stroke-width: 0.5; }
        .axis-label { font-size: 12px; fill: var(--text-tertiary); }
        .legend-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 10px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
            color: var(--text-secondary);
        }
        .legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        .legend-diamond {
            width: 8px;
            height: 8px;
            transform: rotate(45deg);
        }

        /* Summary Cards */
        .summary-container {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .summary-card {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .summary-card.active {
            background-color: var(--accent-red-selected);
        }
        .summary-card.active .summary-label,
        .summary-card.active .summary-value,
        .summary-card.active .summary-unit {
            color: white;
        }
        .summary-label { font-size: 16px; color: var(--text-primary); }
        .summary-value { font-size: 20px; font-weight: bold; color: var(--text-primary); }
        .summary-unit { font-size: 14px; color: var(--text-tertiary); margin-left: 4px; }
        
        /* Events Card */
        .events-card {
            margin: 10px 15px 20px;
            padding: 20px;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
        }
        .events-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .events-title-container { display: flex; align-items: center; gap: 8px; }
        .events-title { font-size: 20px; font-weight: bold; color: var(--text-secondary); }
        .event-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
        }
        .event-label-container { display: flex; align-items: center; gap: 10px; }
        .event-label { font-size: 18px; color: var(--text-secondary); }
        .event-count { font-size: 20px; font-weight: bold; color: var(--text-secondary); }
        .event-icon-small { width: 18px; height: 18px; }

        /* Learn More Link */
        .learn-more {
            text-align: center;
            padding: 30px 0;
            font-size: 16px;
            color: var(--link-blue);
            text-decoration: none;
            display: block;
        }
    </style>
</head>
<body>
    <div class="iphone-frame">
        <div class="screen">
            <div class="header-nav">
                <a href="physiological-indicators.html" class="back-button">
                    <svg viewBox="0 0 24 24"><path d="M19 12H5M12 19L5 12 12 5"/></svg>
                    返回
                </a>
                <span class="page-title">血压详情</span>
                <div class="header-spacer"></div>
            </div>
            <div class="scroll-view">
                <div class="time-range-container"></div>
                <div class="realtime-container">
                    <div class="bp-info">
                        <div class="bp-range-display">
                            <div class="bp-range-row">
                                <span class="bp-type-indicator">●</span>
                                <span class="bp-type-label">收缩压</span>
                                <span class="bp-range-value">109-120</span>
                            </div>
                            <div class="bp-range-row">
                                <span class="bp-type-indicator diastolic">◆</span>
                                <span class="bp-type-label">舒张压</span>
                                <span class="bp-range-value">65-80</span>
                            </div>
                            <div class="bp-unit">毫米汞柱</div>
                            <div class="bp-date-range">2025年7月11日至17日</div>
                        </div>
                    </div>
                    <div class="range-bar-container" style="display: none;">
                        <svg class="range-pointer" viewBox="0 0 20 15"><polygon points="10,0 20,15 0,15"/></svg>
                        <div class="range-bar">
                            <div class="range-segment-normal"></div>
                            <div class="range-segment-elevated"></div>
                            <div class="range-segment-high"></div>
                        </div>
                        <div class="range-labels">
                            <span>90/60</span><span>120/80</span><span>140/90</span>
                        </div>
                    </div>
                    <div class="status-indicator" style="display: none;">
                        <span class="status-text">正常</span>
                    </div>
                </div>
                <div class="chart-container">
                                         <div class="legend-container">
                         <div class="legend-item">
                             <div class="legend-dot" style="background-color: #000000;"></div>
                             <span>收缩压</span>
                         </div>
                         <div class="legend-item">
                             <div class="legend-diamond" style="background-color: #e53e3e;"></div>
                             <span>舒张压</span>
                         </div>
                     </div>
                    <svg class="chart-svg"></svg>
                </div>
                <div class="summary-container"></div>
                <div class="events-card">
                    <div class="events-header">
                        <div class="events-title-container">
                             <svg class="bp-icon" style="width:22px; height:22px; animation:none;" viewBox="0 0 24 24">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                             </svg>
                            <span class="events-title">血压事件通知</span>
                        </div>
                    </div>
                    <div class="event-item">
                        <div class="event-label-container">
                            <svg class="event-icon-small" style="fill: var(--bp-normal);" viewBox="0 0 24 24">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>
                            <span class="event-label">正常血压</span>
                        </div>
                        <span class="event-count">18</span>
                    </div>
                    <div class="event-item">
                        <div class="event-label-container">
                            <svg class="event-icon-small" style="fill: var(--bp-elevated);" viewBox="0 0 24 24">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>
                            <span class="event-label">血压偏高</span>
                        </div>
                        <span class="event-count">2</span>
                    </div>
                    <div class="event-item">
                        <div class="event-label-container">
                            <svg class="event-icon-small" style="fill: var(--bp-high);" viewBox="0 0 24 24">
                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                            </svg>
                            <span class="event-label">高血压</span>
                        </div>
                        <span class="event-count">0</span>
                    </div>
                </div>
                <!-- About Blood Pressure Section -->
                <div class="events-card">
                    <div class="events-header">
                        <div class="events-title-container">
                            <span class="events-title">关于血压</span>
                        </div>
                    </div>
                    <div style="padding: 10px 0; line-height: 1.6;">
                        <p style="color: var(--text-secondary); font-size: 16px; margin: 0;">
                            血压是指心脏输送血液时血流对动脉壁产生的压力。有两种测量方式。"收缩压"是指心脏跳动时输送血液所产生的血压。"舒张压"是指心脏跳动间隔心脏舒张处于静止时所产生的血压。血压值通常会将收缩压数值写在舒张压数值的上面或前面（例如 120/80）。
                        </p>
                    </div>
                </div>
                
                <a href="#" class="learn-more">了解更多关于血压监测的信息</a>
            </div>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const timeRanges = ['日', '周', '月', '6个月', '年'];
    const timeRangeContainer = document.querySelector('.time-range-container');
    const svg = document.querySelector('.chart-svg');
    const summaryContainer = document.querySelector('.summary-container');
    const chartWidth = 350, chartHeight = 280;
    const chartPadding = { top: 20, bottom: 40, left: 40, right: 20 };
    const chartDrawableHeight = chartHeight - chartPadding.top - chartPadding.bottom;

    let activeTimeRange = '日';
    let selectedSummary = '';

    const summaryData = [
      { id: 'latest', label: '最新: 14:52', value: '120/80', unit: 'mmHg' },
      { id: 'range', label: '血压范围', value: '110/70-135/85', unit: 'mmHg' },
      { id: 'average', label: '平均血压', value: '118/76', unit: 'mmHg' },
      { id: 'pulse-pressure', label: '脉压差', value: '40', unit: 'mmHg' },
    ];

    function updateBPDisplay(systolicRange, diastolicRange, dateRange) {
        const systolicValueElement = document.querySelector('.bp-range-row:first-child .bp-range-value');
        const diastolicValueElement = document.querySelector('.bp-range-row:last-child .bp-range-value');
        const dateRangeElement = document.querySelector('.bp-date-range');

        if (systolicValueElement) systolicValueElement.textContent = systolicRange;
        if (diastolicValueElement) diastolicValueElement.textContent = diastolicRange;
        if (dateRangeElement) dateRangeElement.textContent = dateRange;
    }

    function hideRangeIndicator() {
        const rangeBarContainer = document.querySelector('.range-bar-container');
        const statusIndicator = document.querySelector('.status-indicator');
        if (rangeBarContainer) {
            rangeBarContainer.style.display = 'none';
        }
        if (statusIndicator) {
            statusIndicator.style.display = 'flex';
        }
    }

    function showRangeIndicator() {
        const rangeBarContainer = document.querySelector('.range-bar-container');
        const statusIndicator = document.querySelector('.status-indicator');
        if (rangeBarContainer) {
            rangeBarContainer.style.display = 'block';
        }
        if (statusIndicator) {
            statusIndicator.style.display = 'none';
        }
    }

    function renderTimeRanges() {
        timeRangeContainer.innerHTML = '';
        timeRanges.forEach(range => {
            const btn = document.createElement('button');
            btn.className = `time-range-btn ${activeTimeRange === range ? 'active' : ''}`;
            btn.textContent = range;
            btn.onclick = () => {
                activeTimeRange = range;
                renderTimeRanges();
                renderChart();
                renderSummaryCards();
            };
            timeRangeContainer.appendChild(btn);
        });
    }

    function renderSummaryCards() {
        summaryContainer.innerHTML = '';

        summaryData.forEach(item => {
            const card = document.createElement('div');
            card.className = `summary-card ${selectedSummary === item.id ? 'active' : ''}`;
            card.innerHTML = `
                <span class="summary-label">${item.label}</span>
                <div>
                    <span class="summary-value">${item.value}</span>
                    <span class="summary-unit">${item.unit}</span>
                </div>
            `;
            card.onclick = () => {
                if (selectedSummary === item.id) {
                    selectedSummary = '';
                    updateBPDisplay('109-120', '65-80', '2025年7月11日至17日');
                } else {
                    selectedSummary = item.id;
                    if (item.id === 'average') {
                        const values = item.value.split('/');
                        updateBPDisplay(values[0], values[1], '2025年7月11日至17日');
                    } else if (item.id === 'pulse-pressure') {
                        updateBPDisplay('40', '40', '2025年7月11日至17日');
                    } else if (item.id === 'range') {
                        updateBPDisplay('110-135', '70-85', '2025年7月11日至17日');
                    } else {
                        updateBPDisplay('109-120', '65-80', '2025年7月11日至17日');
                    }
                }
                renderSummaryCards();
                renderChart();
            };
            summaryContainer.appendChild(card);
        });
    }
    
    function generateBPData(range) {
        let systolicData = [];
        let diastolicData = [];
        let count = 0;

        switch(range) {
            case '日': count = 6; break;
            case '周': count = 7; break;
            case '月': count = 15; break;
            case '6个月': count = 12; break;
            case '年': count = 24; break;
        }
        
        // 为特定视图生成数据点
        if (range === '日') {
            // 日视图：6个时间点的血压数据
            const systolicValues = [115, 118, 122, 117, 114, 116];
            const diastolicValues = [75, 78, 82, 76, 72, 74];
            
            for (let i = 0; i < count; i++) {
                const x = i / (count - 1);
                systolicData.push({ x, y: systolicValues[i], type: 'systolic' });
                diastolicData.push({ x, y: diastolicValues[i], type: 'diastolic' });
            }
        } else if (range === '周') {
            // 周视图：7天的血压数据（匹配截图）
            const systolicValues = [115, 108, 110, 118, 109, 120, 116];
            const diastolicValues = [70, 85, 65, 75, 80, 82, 78];
            
            for (let i = 0; i < count; i++) {
                const x = i / (count - 1);
                systolicData.push({ x, y: systolicValues[i], type: 'systolic' });
                diastolicData.push({ x, y: diastolicValues[i], type: 'diastolic' });
            }
        } else {
            // 生成其他时间范围的数据点
            for (let i = 0; i < count; i++) {
                const x = i / (count - 1);
                
                // 生成收缩压数据 (109-120范围)
                const systolic = 109 + Math.random() * 11;
                systolicData.push({ x, y: systolic, type: 'systolic' });
                
                // 生成舒张压数据 (65-80范围)
                const diastolic = 65 + Math.random() * 15;
                diastolicData.push({ x, y: diastolic, type: 'diastolic' });
            }
        }
        
        return { systolicData, diastolicData };
    }

    function renderChart() {
        svg.innerHTML = '';
        const { systolicData, diastolicData } = generateBPData(activeTimeRange);
        
        const yScale = (val) => chartHeight - chartPadding.bottom - ((val - 50) / 150) * chartDrawableHeight;
        
        // Grid lines and labels
        const yLabels = [50, 75, 100, 125, 150, 175, 200];
        yLabels.forEach(val => {
            const y = yScale(val);
            svg.innerHTML += `<line class="grid-line" x1="${chartPadding.left}" y1="${y}" x2="${chartWidth - chartPadding.right}" y2="${y}"></line>`;
            svg.innerHTML += `<text class="axis-label" x="${chartPadding.left - 10}" y="${y + 4}" text-anchor="end">${val}</text>`;
        });
        
        // Generate labels based on data points
        let xLabels = [];
        switch(activeTimeRange) {
            case '日':
                xLabels = ['6时', '10时', '14时', '18时', '22时', '2时'];
                break;
            case '周':
                xLabels = ['周五', '周六', '周日', '周一', '周二', '周三', '周四'];
                break;
            case '月':
                // For 15 data points, show every 3rd label
                const dayLabels = ['1日', '3日', '5日', '8日', '10日', '12日', '15日', '18日', '20日', '22日', '25日', '27日', '28日', '29日', '30日'];
                xLabels = dayLabels.filter((_, i) => i % 3 === 0 || i === dayLabels.length - 1);
                break;
            case '6个月':
                xLabels = ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'];
                break;
            case '年':
                // For 24 data points, show every 4th label
                const monthLabels = Array.from({length: 24}, (_, i) => `${Math.floor(i/2)+1}月`);
                xLabels = monthLabels.filter((_, i) => i % 4 === 0 || i === monthLabels.length - 1);
                break;
        }
        
        if (xLabels) {
            xLabels.forEach((label, i) => {
                const x = chartPadding.left + i * ((chartWidth - chartPadding.left - chartPadding.right) / (xLabels.length - 1));
                svg.innerHTML += `<text class="axis-label" x="${x}" y="${chartHeight - 10}" text-anchor="middle">${label}</text>`;
                
                // Vertical grid lines
                svg.innerHTML += `<line class="grid-line" x1="${x}" y1="${chartPadding.top}" x2="${x}" y2="${chartHeight - chartPadding.bottom}"></line>`;
            });
        }

        // Plot systolic pressure (black dots)
        systolicData.forEach(d => {
            if (selectedSummary !== 'average' && selectedSummary !== 'pulse-pressure') {
                const x = chartPadding.left + d.x * (chartWidth - chartPadding.left - chartPadding.right);
                const y = yScale(d.y);
                                 svg.innerHTML += `<circle cx="${x}" cy="${y}" r="3" fill="#000000" />`;
             }
         });
 
         // Plot diastolic pressure (red diamonds)
         diastolicData.forEach(d => {
             if (selectedSummary !== 'average' && selectedSummary !== 'pulse-pressure') {
                 const x = chartPadding.left + d.x * (chartWidth - chartPadding.left - chartPadding.right);
                 const y = yScale(d.y);
                 // Create diamond shape
                 svg.innerHTML += `<polygon points="${x},${y-4} ${x+4},${y} ${x},${y+4} ${x-4},${y}" fill="#e53e3e" />`;
            }
        });
        
        // Special views for selected summaries
        if (selectedSummary === 'range') {
            const allData = [...systolicData, ...diastolicData];
            const minPoint = allData.reduce((prev, curr) => prev.y < curr.y ? prev : curr);
            const maxPoint = allData.reduce((prev, curr) => prev.y > curr.y ? prev : curr);
            
            const minX = chartPadding.left + minPoint.x * (chartWidth - chartPadding.left - chartPadding.right);
            const minY = yScale(minPoint.y);
            const maxX = chartPadding.left + maxPoint.x * (chartWidth - chartPadding.left - chartPadding.right);
            const maxY = yScale(maxPoint.y);
            
            svg.innerHTML += `<circle cx="${minX}" cy="${minY}" r="5" fill="var(--accent-red)" />`;
            svg.innerHTML += `<text class="axis-label" x="${minX}" y="${minY - 12}" text-anchor="middle">最低 ${Math.round(minPoint.y)}</text>`;
            svg.innerHTML += `<circle cx="${maxX}" cy="${maxY}" r="5" fill="var(--accent-red)" />`;
            svg.innerHTML += `<text class="axis-label" x="${maxX}" y="${maxY - 12}" text-anchor="middle">最高 ${Math.round(maxPoint.y)}</text>`;
        }
        
        if (selectedSummary === 'latest') {
            const lastSystolic = systolicData[systolicData.length - 1];
            const lastDiastolic = diastolicData[diastolicData.length - 1];
            
            const sysX = chartPadding.left + lastSystolic.x * (chartWidth - chartPadding.left - chartPadding.right);
            const sysY = yScale(lastSystolic.y);
            const diaX = chartPadding.left + lastDiastolic.x * (chartWidth - chartPadding.left - chartPadding.right);
            const diaY = yScale(lastDiastolic.y);
            
            svg.innerHTML += `<circle cx="${sysX}" cy="${sysY}" r="5" fill="var(--accent-red)" />`;
            svg.innerHTML += `<polygon points="${diaX},${diaY-5} ${diaX+5},${diaY} ${diaX},${diaY+5} ${diaX-5},${diaY}" fill="var(--accent-red)" />`;
            svg.innerHTML += `<text class="axis-label" x="${sysX}" y="${sysY - 12}" text-anchor="middle">最新</text>`;
        }
    }

    renderTimeRanges();
    renderSummaryCards();
    renderChart();
});
</script>

</body>
</html> 