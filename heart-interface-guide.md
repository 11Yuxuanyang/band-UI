# 心率界面参数展示指南

## 📱 界面概览

这是一个现代化的心率监测界面，采用深色主题设计，提供多维度的心率数据展示和交互功能。界面以散点图为核心，结合多种视图模式，为用户提供直观而全面的心率数据分析。

### 🖼️ 手机边框设计

#### iPhone 风格边框
- **边框样式**: 模拟 iPhone 的圆角矩形设计
- **屏幕尺寸**: 375×812px (iPhone X/11/12/13 标准尺寸)
- **圆角半径**: 40px (顶部) / 40px (底部)
- **边框颜色**: 深灰色 (#1a1a1a)
- **边框宽度**: 8px

#### 屏幕容器
- **背景色**: 深色主题 (#16191d)
- **内容区域**: 完整屏幕空间，带状态栏
- **滚动区域**: 垂直滚动，支持触摸滑动

#### 状态栏
- **高度**: 44px
- **内容**: 时间、信号强度、电池电量
- **样式**: 深色背景，白色文字

### 🏗️ 整体布局结构

```
┌─────────────────────────────────────┐
│           iPhone 边框                │
│  ┌───────────────────────────────┐  │
│  │        状态栏 (44px)          │  │
│  ├───────────────────────────────┤  │
│  │                               │  │
│  │        导航栏 (60px)          │  │
│  │    [返回] 心率详情 [空白]      │  │
│  ├───────────────────────────────┤  │
│  │                               │  │
│  │      实时心率区域 (120px)      │  │
│  │    [图标] 85 实时心率 [标尺]   │  │
│  ├───────────────────────────────┤  │
│  │                               │  │
│  │     时间范围选择器 (60px)      │  │
│  │      [日] [周] [月] [半年]     │  │
│  ├───────────────────────────────┤  │
│  │                               │  │
│  │        散点图 (250px)         │  │
│  │         (350×250px)           │  │
│  ├───────────────────────────────┤  │
│  │                               │  │
│  │      数据摘要卡片 (200px)      │  │
│  │    [最新] [范围] [静息] [常规] │  │
│  │         [显示更多心率数据]     │  │
│  ├───────────────────────────────┤  │
│  │                               │  │
│  │      事件通知区域 (150px)      │  │
│  │    [低事件] [高事件] [心律不齐] │  │
│  ├───────────────────────────────┤  │
│  │                               │  │
│  │        底部导航栏 (80px)       │  │
│  │   [主屏] [测量] [达成] [分享]  │  │
│  └───────────────────────────────┘  │
└─────────────────────────────────────┘
```

#### 布局特点
- **垂直滚动**: 内容超出屏幕时支持滚动
- **固定导航**: 顶部导航栏和底部导航栏固定
- **响应式**: 各区域高度根据内容自适应
- **触摸友好**: 所有交互元素都有足够的触摸区域

---

## 🎛️ 1. 时间范围选择器

### 📍 位置与布局
- **位置**: 页面顶部
- **样式**: 灰色圆角背景容器
- **选项**: 日、周、月、年

### 🎨 视觉设计
- **未选中状态**: 透明背景，灰色文字
- **选中状态**: 白色背景，黑色文字，带阴影效果
- **交互**: 点击切换，流畅的过渡动画

### 📊 数据影响
不同时间范围会影响：
- 散点图的数据分布密度
- X轴时间标签的显示内容
- 趋势线的绘制方式（静息心率/常规心率）

---

## ❤️ 2. 实时心率显示区域

### 📏 布局结构
```
[心率图标] [数值] [标签] [日期]    [右侧区域]
```

### 🎯 默认状态
- **左侧**: 红色心跳动画图标 + "85" + "实时心率 次/分" + "今天"
- **右侧**: 心率范围指示器（三色标尺）

### 🎯 静息心率/常规心率状态
- **左侧**: 心率图标 + 具体数值 + 心率类型 + "今天"
- **右侧**: 绿色圆角"正常"状态指示器

### 🎨 心率范围指示器
- **蓝色区域**: < 60 bpm (低心率)
- **绿色区域**: 60-100 bpm (正常心率)
- **红色区域**: > 100 bpm (高心率)
- **指针**: 三角形，指示当前心率在范围中的位置

---

## 📈 3. 散点图核心展示

### 📊 图表特点
- **类型**: SVG散点图
- **数据点**: 动态生成，模拟真实心率分布
- **颜色编码**: 严格遵循标尺的三色系统

### 🎨 数据点分布
- **蓝色点**: < 60 bpm，约占10%
- **绿色点**: 60-100 bpm，约占80%
- **红色点**: > 100 bpm，约占10%

### 📏 图表坐标
- **Y轴**: 0-150 bpm，带网格线
- **X轴**: 根据时间范围动态调整标签
- **尺寸**: 350×250px，适配移动端

### 🔄 动态数据生成
```javascript
基础数据点 + 高心率补充点 + 极少数峰值点
不同时间范围有不同的数据密度和分布策略
```

---

## 📋 4. 数据摘要卡片

### 📝 卡片类型

#### 4.1 最新心率
- **功能**: 显示最近一次测量数据
- **交互**: 隐藏散点图，仅显示红色标记点
- **标记**: "最新 [数值]"

#### 4.2 心率范围
- **功能**: 显示当前数据集的最大/最小值
- **交互**: 散点图变灰，高亮最高/最低点
- **标记**: "最高 [数值]" / "最低 [数值]"

#### 4.3 静息心率
- **功能**: 显示休息状态下的心率
- **交互**: 
  - 隐藏散点图和右侧标尺
  - 显示趋势线（周/月/年）或水平线（日）
  - 右侧显示"正常"状态
- **颜色**: 蓝色 (#4fc3f7)

#### 4.4 常规心率
- **功能**: 显示日常活动的平均心率
- **交互**: 
  - 隐藏散点图和右侧标尺
  - 显示趋势线（周/月/年）或水平线（日）
  - 右侧显示"正常"状态
- **颜色**: 绿色 (#81c784)

### 🎨 卡片状态
- **未选中**: 白色背景，黑色文字
- **选中**: 红色背景，白色文字
- **互斥性**: "最新"和"范围"互斥，其他独立

---

## 📊 5. 多模式视图系统

### 🔄 视图模式切换

#### 默认模式
```
显示: 完整散点图 + 心率范围标尺
右侧: 三色标尺指示器
```

#### 最新模式
```
显示: 红色标记点
隐藏: 所有散点图
右侧: 保持标尺显示
```

#### 范围模式
```
显示: 灰化散点图 + 高亮最值点
标记: 最高/最低数值标签
右侧: 保持标尺显示
```

#### 静息心率模式
```
显示: 趋势线/水平线（蓝色）
隐藏: 散点图 + 标尺
右侧: "正常"状态指示器
```

#### 常规心率模式
```
显示: 趋势线/水平线（绿色）
隐藏: 散点图 + 标尺
右侧: "正常"状态指示器
```

---

## 🎨 6. 趋势线展示规则

### 📅 日视图
- **静息心率**: 60 bpm 水平虚线
- **常规心率**: 78 bpm 水平虚线
- **样式**: `stroke-dasharray="5,3"`

### 📊 周/月/年视图
- **静息心率**: 蓝色折线图，基准60 bpm ± 波动
- **常规心率**: 绿色折线图，基准78 bpm ± 波动
- **数据点**: 3px 圆点
- **连接线**: 2px 实线
- **波动算法**: `Math.sin() + Math.random()` 模拟自然变化

---

## 🎯 7. 交互逻辑设计

### 🔄 状态管理
```javascript
activeTimeRange: 当前选中的时间范围
selectedSummary: 当前选中的摘要类型
```

### 🖱️ 交互行为

#### 时间范围切换
1. 更新图表数据分布
2. 重新生成散点图
3. 调整X轴标签
4. 更新趋势线（如适用）

#### 摘要卡片点击
1. 更新卡片选中状态
2. 切换图表显示模式
3. 控制标尺显示/隐藏
4. 更新右侧状态指示器

#### 取消选择
1. 恢复默认散点图
2. 显示心率范围标尺
3. 重置右侧区域

---

## 🎨 8. 颜色系统规范

### 主要颜色
- **心率红**: `#f44336` - 图标、标记、选中状态
- **低心率蓝**: `#87ceeb` - 低心率数据点、静息心率线
- **正常绿**: `#4caf50` - 正常心率数据点、常规心率线、状态指示器
- **高心率红**: `#ff6b6b` - 高心率数据点

### 背景颜色
- **主背景**: `#16191d` - 与主页一致的深色主题
- **卡片背景**: `#2c2f33` - 卡片和容器背景
- **选中背景**: `#d9534f` - 卡片选中状态

### 文本颜色
- **主要文本**: `#ffffff` - 标题、数值
- **次要文本**: `#e5e5e5` - 标签
- **辅助文本**: `#a0a0a0` - 图表标签

---

## 📱 9. 响应式设计

### 📏 适配规则
- **容器宽度**: 375px (iPhone 标准宽度)
- **图表尺寸**: 固定 350×250px
- **触摸目标**: 最小 44×44px
- **字体大小**: 相对固定，确保可读性

### 🎯 移动优先
- 所有交互都针对触摸优化
- 按钮和卡片有足够的点击区域
- 动画流畅，性能优先

### 📱 手机边框实现

#### CSS 边框样式
```css
.iphone-frame {
    width: 375px;
    height: 812px;
    background: #1a1a1a;
    border-radius: 40px;
    padding: 8px;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
}

.screen {
    width: 100%;
    height: 100%;
    background: #16191d;
    border-radius: 32px;
    overflow: hidden;
    position: relative;
}
```

#### 状态栏实现
```css
.status-bar {
    height: 44px;
    background: #16191d;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    font-size: 14px;
    color: white;
}
```

#### 内容区域
- **滚动容器**: 使用 `overflow-y: auto` 实现垂直滚动
- **内容高度**: 动态计算，适应不同内容长度
- **底部安全区域**: 考虑 iPhone 底部 Home Indicator

---

## 🔧 10. 技术实现特点

### 📊 数据生成
- **随机分布**: 基于真实心率规律
- **时间分段**: 不同时段有不同的心率特征
- **健康导向**: 大部分数据点在正常范围内

### 🎨 SVG 图表
- **动态绘制**: JavaScript 动态生成 SVG 元素
- **性能优化**: 适量数据点，避免过度渲染
- **交互响应**: 支持实时切换和动画

### 💾 状态管理
- **单一数据源**: 集中管理所有状态
- **事件驱动**: 基于用户交互更新界面
- **一致性保证**: 确保界面状态同步

---

## 🚀 11. 用户体验设计

### 🎯 设计原则
1. **信息层次**: 重要信息突出显示
2. **视觉一致**: 遵循统一的颜色和字体规范
3. **交互反馈**: 每个操作都有明确的视觉反馈
4. **渐进披露**: 根据用户需求逐步展示信息

### 🔄 状态转换
- **流畅过渡**: 状态切换带有平滑动画
- **明确指示**: 当前状态清晰可见
- **容错设计**: 支持重复点击和状态重置

### 📈 数据可视化
- **直观理解**: 散点图直观展示心率分布
- **多维展示**: 结合数值、图表、趋势线
- **健康导向**: 颜色编码帮助用户理解健康状态

---

## 📝 12. 使用建议

### 👥 目标用户
- 健康监测应用用户
- 对心率数据有查看需求的个人
- 需要了解心率趋势的用户

### 🎯 核心价值
1. **全面性**: 多角度展示心率数据
2. **直观性**: 图形化展示易于理解
3. **交互性**: 支持个性化查看需求
4. **专业性**: 符合医疗健康应用标准

### 💡 最佳实践
1. 优先查看"心率范围"了解整体情况
2. 使用"静息心率"监测基础健康状态
3. 通过时间范围切换分析趋势变化
4. 结合多种视图模式获得全面认知

---

*本文档基于当前心率界面的实际实现，详细描述了所有参数展示方式和交互功能。* 